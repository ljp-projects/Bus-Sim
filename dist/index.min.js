"use strict";const find=function(e){return Array.from(document.querySelectorAll(e))[0]},Player={Lines:{created:(new Date).getTime(),value:[]}},Game={Money:{lastChanged:(new Date).getTime(),value:0,set:(...e)=>{e=e[0]||0;Game.Money.value=e,Game.Money.lastChanged=(new Date).getTime()},add:(...e)=>{e=e[0]||0;Game.Money.value+=e,Game.Money.lastChanged=(new Date).getTime()},take:(...e)=>{e=e[0]||0;Game.Money.value-=e,Game.Money.lastChanged=(new Date).getTime()}},Increment:{created:(new Date).getTime(),value:1.3},Update:{created:(new Date).getTime(),value:e=>{setInterval(()=>{moneyElement.textContent=""+Game.Money.value},e)}},GenerateEvent:{created:(new Date).getTime(),value:()=>[0,1,2,2,0,0,0,0,2,2,1,0,0,0,2,1,0,2,2,0][~~(20*Math.random())]}},moneyElement=find("#money"),earnElement=find("#earn"),linesElement=find("#lines"),addLineElement=find("#line");null!==earnElement&&void 0!==earnElement&&earnElement.addEventListener("click",()=>{Game.Money.add&&Game.Money.add(1)}),null!==addLineElement&&void 0!==addLineElement&&addLineElement.addEventListener("click",()=>{if(100<=Game.Money.value){const t=prompt("What shall the name of the line be?")||"BUS LINE NAME",l=(new Date).getTime()||0;let a=~~(Math.random()*(5*Player.Lines.value.length));var e=[t,[l,a]],n=`
        <li style="list-style: none;" id="BUS-LINE-${l}">
            <b id="BUS-LINE-${l}-NAME">${t}</b>
            <p id="BUS-LINE-${l}-ID">${l}</p>
            <p>Per second: $<span id="BUS-LINE-${l}-PROFIT">${.5*a+Player.Lines.value.length}</span></p>
        </li>
        `;const m=()=>{var e=Game.GenerateEvent.value();if(Game.Money.add&&0===e)Game.Money.add(.5*a+Player.Lines.value.length),setTimeout(m,1e3);else switch(e){case 1:alert(`Your bus '${t}(${l})' broke down!`),setTimeout(m,1e4);break;case 2:var n=Math.min((""+t).length,2*Player.Lines.value.length);n<=Game.Money.value&&(alert(`Your bus '${t}(${l})' is out of fuel! Paying to refuel...`),Game.Money.take&&Game.Money.take(n),setTimeout(m,2500))}};m();setInterval(()=>{a=~~(10*Math.random()),find(`#BUS-LINE-${l}-PROFIT`).textContent=""+(.5*a+Player.Lines.value.length)},5e3);Player.Lines.value.push(e),linesElement.innerHTML+=n,Game.Money.take&&Game.Money.take(100)}else alert("You need more money.")}),Game.Update.value(50);