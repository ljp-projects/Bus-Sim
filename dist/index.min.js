"use strict";const find=function(e){return Array.from(document.querySelectorAll(e))[0]},generateNotification=function(e,n){return`
    <li>
        <b>${e}</b>
        <p>${n}</p>
    </li>
    `},Player={Lines:{created:(new Date).getTime(),value:[]}},Game={Money:{lastChanged:(new Date).getTime(),value:0,set:(...e)=>{e=e[0]||0;Game.Money.value=e,Game.Money.lastChanged=(new Date).getTime()},add:(...e)=>{e=e[0]||0;Game.Money.value+=e,Game.Money.lastChanged=(new Date).getTime()},take:(...e)=>{e=e[0]||0;Game.Money.value-=e,Game.Money.lastChanged=(new Date).getTime()}},Increment:{created:(new Date).getTime(),value:1.3},Update:{created:(new Date).getTime(),value:e=>{setInterval(()=>{moneyElement.textContent=""+Game.Money.value},e)}},GenerateEvent:{created:(new Date).getTime(),value:()=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0][~~(50*Math.random())]}},moneyElement=find("#money"),earnElement=find("#earn"),linesElement=find("#lines"),addLineElement=find("#line");null!==earnElement&&void 0!==earnElement&&earnElement.addEventListener("click",()=>{Game.Money.add&&Game.Money.add(1)}),null!==addLineElement&&void 0!==addLineElement&&addLineElement.addEventListener("click",()=>{if(100<=Game.Money.value){const l=prompt("What shall the name of the line be?")||"BUS LINE NAME",i=(new Date).getTime()||0;let t=~~(Math.random()*(5*Player.Lines.value.length));var e=[l,[i,t]],n=`
        <li style="list-style: none;" id="BUS-LINE-${i}">
            <b id="BUS-LINE-${i}-NAME">${l}</b>
            <p id="BUS-LINE-${i}-ID">${i}</p>
            <p>Per second: $<span id="BUS-LINE-${i}-PROFIT">${.5*t+Player.Lines.value.length}</span></p>
        </li>
        `;const o=()=>{var e=Game.GenerateEvent.value();if(Game.Money.add&&0===e)Game.Money.add(.5*t+Player.Lines.value.length),setTimeout(o,1e3);else{var n=find("#notifications");switch(e){case 1:n.innerHTML+=generateNotification(`Your bus '${l} (${i})' broke down!`,`Your bus '${l} (${i})' has broken down. Earning from '${l} (${i})' will continue in 10 seconds.`),setTimeout(o,1e4);break;case 2:var a=Math.min((""+i).length,100*Player.Lines.value.length);a<=Game.Money.value?(n.innerHTML+=generateNotification(`Your bus '${l}(${i})' is out of fuel!`,`You will need to pay ${a} to refuel it.`),Game.Money.take&&Game.Money.take(a),setTimeout(o,2500)):o()}}};o();setInterval(()=>{t=~~(10*Math.random()),find(`#BUS-LINE-${i}-PROFIT`).textContent=""+(.5*t+Player.Lines.value.length)},5e3);Player.Lines.value.push(e),linesElement.innerHTML+=n,Game.Money.take&&Game.Money.take(100)}else alert("You need more money.")}),Game.Update.value(50);