"use strict";const find=function(e){return Array.from(document.querySelectorAll(e))[0]},generateNotification=function(e,n){return`
    <li class="n">
        <b>${e}</b>
        <p>${n}</p>
    </li>
    `},Player={Lines:{created:(new Date).getTime(),value:[]}},Game={Money:{lastChanged:(new Date).getTime(),value:0,set:(...e)=>{e=e[0]||0;Game.Money.value=e,Game.Money.lastChanged=(new Date).getTime()},add:(...e)=>{e=e[0]||0;Game.Money.value+=e,Game.Money.lastChanged=(new Date).getTime()},take:(...e)=>{e=e[0]||0;Game.Money.value-=e,Game.Money.lastChanged=(new Date).getTime()}},LinePrice:{lastChanged:(new Date).getTime(),value:100,set:(...e)=>{e=e[0]||0;Game.LinePrice.value=e,Game.LinePrice.lastChanged=(new Date).getTime()},add:(...e)=>{e=e[0]||0;Game.LinePrice.value+=e,Game.LinePrice.lastChanged=(new Date).getTime()}},Increment:{created:(new Date).getTime(),value:1.3},Update:{created:(new Date).getTime(),value:e=>{setInterval(()=>{moneyElement.textContent=""+Game.Money.value},e)}},GenerateEvent:{created:(new Date).getTime(),value:()=>[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0][~~(50*Math.random())]},IncreasePrice:{created:(new Date).getTime(),value:(...e)=>e[0]*Game.Increment.value}},moneyElement=find("#money"),earnElement=find("#earn"),linesElement=find("#lines"),addLineElement=find("#line");null!==earnElement&&void 0!==earnElement&&earnElement.addEventListener("click",()=>{Game.Money.add&&Game.Money.add(1)}),null!==addLineElement&&void 0!==addLineElement&&addLineElement.addEventListener("click",()=>{if(Game.Money.value>=Game.LinePrice.value){Game.LinePrice.set&&Game.LinePrice.set(Game.IncreasePrice.value(Game.LinePrice.value));const i=prompt("What shall the name of the line be?")||"BUS LINE NAME",l=(new Date).getTime()||0;let t=~~(Math.random()*(5*Player.Lines.value.length));var e=[i,[l,t]],n=`
        <li style="list-style: none;" id="BUS-LINE-${l}">
            <b id="BUS-LINE-${l}-NAME">${i}</b>
            <p id="BUS-LINE-${l}-ID">${l}</p>
            <p>Per second: $<span id="BUS-LINE-${l}-PROFIT">${.5*t+Player.Lines.value.length}</span></p>
        </li>
        `;const m=()=>{var e=Game.GenerateEvent.value();if(Game.Money.add&&0===e)Game.Money.add(.5*t+Player.Lines.value.length),setTimeout(m,1e3);else{const a=find("#notifications");switch(e){case 1:a.innerHTML+=generateNotification(`Your bus '${i} (${l})' broke down!`,`Your bus '${i} (${l})' has broken down. Earning from '${i} (${l})' will continue in 10 seconds.`),setTimeout(m,1e4),setTimeout(()=>{a.innerHTML=""},5e3);break;case 2:var n=Math.max((""+l).length,100*Player.Lines.value.length);n<=Game.Money.value?(a.innerHTML+=generateNotification(`Your bus '${i}(${l})' is out of fuel!`,`You will need to pay ${n} to refuel it.`),Game.Money.take&&Game.Money.take(n),setTimeout(m,2500),setTimeout(()=>{a.innerHTML=""},5e3)):m()}}};m();setInterval(()=>{t=~~(10*Math.random()),find(`#BUS-LINE-${l}-PROFIT`).textContent=""+(.5*t+Player.Lines.value.length)},5e3);Player.Lines.value.push(e),linesElement.innerHTML+=n,Game.Money.take&&Game.Money.take(100)}else alert("You need more money.")}),Game.Update.value(50);